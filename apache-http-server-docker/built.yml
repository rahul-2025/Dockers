---
 - hosts: localhost
   gather_facts: yes
   tasks:
    - name: create a build directory
      file:
       path: ~/Docker_Images/apache-http-server
       state: directory
       owner: rahulratakonda
       group: staff
       mode: '0755'
    - name: copy Dockerfile
      copy:
       src: ./Dockerfile
       dest: ~/Docker_Images/apache-http-server/Dockerfile
       owner: rahulratakonda
       group: staff
       mode: '0644'
    - name: build container image
      docker_image:
       name: apache-http:v1.0
       build:
        path: ~/Docker_Images/apache-http-server
        source: build
      state: present